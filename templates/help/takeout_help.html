    <a href="#" id="takeout-help-link" class="link-btn">How this works{{ ':' if description or not db else '...' }}</a>
<div id="takeout-help" class="{{ '' if description or not db else 'hidden' }}">
    <hr>
    <div class="help-item">
        <h3>Data retrieval and insertion</h3>
        <p>
            The Takeout watch-history.html file(s) gets parsed for the available info. Some records will only contain a
            timestamp of when the video was opened/watched, presumably when the video itself is no longer available.
            Most will also contain the video ID, title and the channel title.
        </p>
        <p>
            All the IDs are then queried against YouTube Data API for additional information. Combined with the
            timestamps from Takeout, the records are then inserted into a database, located in the project directory
            under the default name of yt.sqlite. Those without identifying info are collectively inserted
            as a single 'unknown', to keep track of the total amount of videos ever opened.
        </p>
        <p>
            Each successful query to the API uses 11 points, with the standard daily quota being 1M.
            The Quotas tab on Google's
            <a class="link-btn link-btn:visited"
               href="https://console.developers.google.com/apis/api/youtube.googleapis.com/overview"
               target="_blank">Console</a>
            page will show how many have been used up.
        </p>
        <p>
            Should the process get interrupted for any reason, it's safe to restart it using the same Takeout
            files; no duplicates will be created and no duplicate queries will be made.
        </p>
    </div>
    <div class="help-item">
        <h3>Takeout quirks and data accuracy</h3>
        <p>
            Takeout works strangely (badly). The first three times I've used it, varying numbers of records were
            returned each time. The second time returned fewer than the first and the last returned more than the
            first two, including records older than the ones in the first two as well as additional records
            throughout the whole watch history. I've stopped keeping track afterwards.
            The oldest records were from April of 2014, with the Youtube account having been created and first
            used sometime in 2011.
        </p>
        <p>
            It does not seem to return a full watch history in any case, when compared to the History page on Youtube,
            though the difference is not drastic. Curiously, the History page is also missing some videos that are
            present in Takeout.
        </p>
        <p>
            The timestamps for when the videos were opened contain no timezone information and seem to be
            returned in local time of the computer the Takeout archive creation was initiated on. That includes those
            for videos that may have been watched in a different timezone.
        </p>
        <p>
            Furthermore, in the case of zones observing Daylight Saving Time (DST), all of the timestamps are set to
            either the DST timezone or the non-DST one, dependent on the date the archive was created. That
            is, if someone who lives on the East coast of US creates an archive in May, all the timestamps, including
            ones that should be in EST (November - March) will be set to EDT and vice versa if it was created in
            February.
        </p>
        <p>
            The app attempts to correct the timestamps' DST offsets, if the machine it's run on is in such a timezone.
        </p>
    </div>
    <script>
        toggleElementVisibility("takeout-help-link", "takeout-help",
            "How this works{{ '...' if description or not db else ':' }}");
    </script>
</div>